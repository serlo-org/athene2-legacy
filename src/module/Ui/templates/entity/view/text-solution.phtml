<?php $solution = $this->entity; ?>
<?php echo $solution->learningResource()->getSubject()->getName();  ?>
<?php if($solution->repository()->hasCurrentRevision() && !$solution->getTrashed()): ?>
    <article>
        <header class="btn-group">
            <a class="btn-default btn btn-xs accordion-toggle" data-toggle="collapse" data-parent="#solutions-<?php echo $solution->getId(); ?>" href="#solution-hint-<?php echo $solution->getId(); ?>"><?php echo $this->translate('Hint'); ?></a>
            <a class="btn-default btn btn-xs accordion-toggle" data-toggle="collapse" data-parent="#solutions-<?php echo $solution->getId(); ?>" href="#solution-content-<?php echo $solution->getId(); ?>"><?php echo $this->translate('Solution'); ?></a>
        </header>
        <section id="solution-hint-<?php echo $solution->getId(); ?>" class="panel-collapse collapse">
            <div class="btn-group pull-right">
                <?php echo $this->partial('entity/view/partials/actions', array('entity' => $this->entity, 'hide' => array('taxonomy', 'detail'))); ?>
            </div>
            <?php echo $solution->repository()->getCurrentRevision()->get('hint'); ?>
        </section>
        <section id="solution-content-<?php echo $solution->getId(); ?>" class="panel-collapse collapse">
            <div class="btn-group pull-right">
                <?php echo $this->partial('entity/view/partials/actions', array('entity' => $this->entity, 'hide' => array('taxonomy', 'detail'))); ?>
            </div>
            <?php echo $solution->repository()->getCurrentRevision()->get('content'); ?>
        </section>
    </article>
<?php elseif($solution->repository()->hasHead()): ?>
    <?php echo $this->translate('This solution is waiting for approval. It will be soon available!'); ?>
<?php else: ?>
    <?php echo sprintf($this->translate('This exercise has no solution. Do you want to add <a href="%s">one</a>?'), $this->url('entity/plugin/repository', array('action' => 'add-revision', 'entity' => $solution->getId()))); ?>
<?php endif; ?>